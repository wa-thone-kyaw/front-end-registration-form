{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\5X505DY (R5)\\\\Downloads\\\\front-end-registration-form-2d3d3bc2c86886471e1456bbff4f1a08f461ebb6\\\\front-end-registration-form\\\\src\\\\component\\\\Dashboard\\\\SecondyearStudent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, Fragment, useEffect } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport \"./SecondyearStudent.css\";\nimport data from \"./mock-data.json\";\nimport ReadOnlyRow from \"./ReadOnlyRow\";\nimport EditableRow from \"./EditableRow\";\nimport axios from \"axios\";\nimport DataTable from \"react-data-table-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SecondyearStudent = () => {\n  _s();\n  const [showAddForm, setShowAddform] = useState(false);\n  const [contacts, setContacts] = useState([]);\n  const [engname, setEngname] = useState(\"\");\n  const [seatno, setSeatNo] = useState(\"\");\n  const [phone_no, setPhoneno] = useState(\"\");\n  const column = [{\n    name: \"Name\",\n    selector: row => row.engname\n  }, {\n    name: \"Roll_No\",\n    selector: row => row.seatno\n  }, {\n    name: \"Phone_No\",\n    selector: row => row.phone_no\n  }];\n  useEffect(() => {\n    const fetData = async () => {\n      axios.get(\"http://127.0.0.1:8000/student_registration/student_list/\").then(res => setRecords(res.data)).catch(err => console.log(err));\n    };\n    fetData();\n  }, []);\n  const [records, setRecords] = useState([]);\n  const handleAddFormSubmit = async event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"engname\", engname);\n    formData.append(\"seatno\", seatno);\n    formData.append(\"phone_no\", phone_no);\n    try {\n      await fetch(\"http://127.0.0.1:8000/student_registration/first_year\", {\n        method: \"POST\",\n        body: formData\n      });\n      /* const newContact = { id: nanoid(), engname, seatno, phone_no };\r\n      setContacts([...contacts, newContact]); */\n\n      setEngname(\"\");\n      setSeatNo(\"\");\n      setPhoneno(\"\");\n      //fetchData();\n    } catch (error) {\n      console.error(error);\n    }\n\n    /* handleCancelAddForm(); */\n    /* const newContacts = [...contacts, newContact];\r\n    setContacts(newContacts); */\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(DataTable, {\n      children: [\"column = \", column, \"data = \", records]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n/* <div className=\"table\">\r\n      <div class=\"col-sm-3 mt-5 mb-4 text-gred\">\r\n        <div className=\"search\">\r\n          <input\r\n            class=\"form-control mr-sm-2\"\r\n            type=\"search\"\r\n            placeholder=\"Search Student\"\r\n            aria-label=\"Search\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <form>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Roll-no</th>\r\n              <th>Phone-no</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {contacts.map((contact, index) => (\r\n              <tr key={index}>\r\n                <td>{contact.engname}</td>\r\n                <td>{contact.seatno}</td>\r\n                <td>{contact.phone_no}</td>\r\n              </tr> */\n/* <Fragment>\r\n                {editContactId === contact.id ? (\r\n                  <EditableRow\r\n                    editFormData={editFormData}\r\n                    handleEditFormChange={handleEditFormChange}\r\n                    handleCancelClick={handleCancelClick}\r\n                  />\r\n                ) : (\r\n                  <ReadOnlyRow\r\n                    contact={contact}\r\n                    handleEditClick={handleEditClick}\r\n                    handleDeleteClick={handleDeleteClick}\r\n                  />\r\n                )}\r\n              </Fragment> */\n/* ))}\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n\r\n      <h2>Add a Contact</h2>\r\n      {showAddForm && (\r\n        <form onSubmit={handleAddFormSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"engname\"\r\n            value={engname}\r\n            required=\"required\"\r\n            placeholder=\"Enter a name...\"\r\n            onChange={(e) => setEngname(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"seatno\"\r\n            value={seatno}\r\n            required=\"required\"\r\n            placeholder=\"Enter roll no...\"\r\n            onChange={(e) => setSeatNo(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone_no\"\r\n            value={phone_no}\r\n            required=\"required\"\r\n            placeholder=\"Enter a phone number...\"\r\n            onChange={(e) => setPhoneno(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">Add</button>\r\n          <button type=\"button\" onClick={handleCancelAddForm}>\r\n            Cancle\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div> */\n_s(SecondyearStudent, \"SMH0DS2anWQ2kUHfOV/mGd0Fq/4=\");\n_c = SecondyearStudent;\nvar _c;\n$RefreshReg$(_c, \"SecondyearStudent\");","map":{"version":3,"names":["React","useState","Fragment","useEffect","nanoid","data","ReadOnlyRow","EditableRow","axios","DataTable","jsxDEV","_jsxDEV","SecondyearStudent","_s","showAddForm","setShowAddform","contacts","setContacts","engname","setEngname","seatno","setSeatNo","phone_no","setPhoneno","column","name","selector","row","fetData","get","then","res","setRecords","catch","err","console","log","records","handleAddFormSubmit","event","preventDefault","formData","FormData","append","fetch","method","body","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/5X505DY (R5)/Downloads/front-end-registration-form-2d3d3bc2c86886471e1456bbff4f1a08f461ebb6/front-end-registration-form/src/component/Dashboard/SecondyearStudent.jsx"],"sourcesContent":["import React, { useState, Fragment, useEffect } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport \"./SecondyearStudent.css\";\r\nimport data from \"./mock-data.json\";\r\nimport ReadOnlyRow from \"./ReadOnlyRow\";\r\nimport EditableRow from \"./EditableRow\";\r\nimport axios from \"axios\";\r\nimport DataTable from \"react-data-table-component\";\r\n\r\nexport const SecondyearStudent = () => {\r\n  const [showAddForm, setShowAddform] = useState(false);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [engname, setEngname] = useState(\"\");\r\n  const [seatno, setSeatNo] = useState(\"\");\r\n  const [phone_no, setPhoneno] = useState(\"\");\r\n  const column = [\r\n    {\r\n      name: \"Name\",\r\n      selector: (row) => row.engname,\r\n    },\r\n    {\r\n      name: \"Roll_No\",\r\n      selector: (row) => row.seatno,\r\n    },\r\n    {\r\n      name: \"Phone_No\",\r\n      selector: (row) => row.phone_no,\r\n    },\r\n  ];\r\n  useEffect(() => {\r\n    const fetData = async () => {\r\n      axios\r\n        .get(\"http://127.0.0.1:8000/student_registration/student_list/\")\r\n        .then((res) => setRecords(res.data))\r\n        .catch((err) => console.log(err));\r\n    };\r\n    fetData();\r\n  }, []);\r\n\r\n  const [records, setRecords] = useState([]);\r\n\r\n  const handleAddFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"engname\", engname);\r\n    formData.append(\"seatno\", seatno);\r\n    formData.append(\"phone_no\", phone_no);\r\n\r\n    try {\r\n      await fetch(\"http://127.0.0.1:8000/student_registration/first_year\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n      /* const newContact = { id: nanoid(), engname, seatno, phone_no };\r\n      setContacts([...contacts, newContact]); */\r\n\r\n      setEngname(\"\");\r\n      setSeatNo(\"\");\r\n      setPhoneno(\"\");\r\n      //fetchData();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n\r\n    /* handleCancelAddForm(); */\r\n    /* const newContacts = [...contacts, newContact];\r\n    setContacts(newContacts); */\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DataTable>\r\n        column = {column}\r\n        data = {records}\r\n      </DataTable>\r\n    </div>\r\n  );\r\n};\r\n/* <div className=\"table\">\r\n      <div class=\"col-sm-3 mt-5 mb-4 text-gred\">\r\n        <div className=\"search\">\r\n          <input\r\n            class=\"form-control mr-sm-2\"\r\n            type=\"search\"\r\n            placeholder=\"Search Student\"\r\n            aria-label=\"Search\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <form>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Roll-no</th>\r\n              <th>Phone-no</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {contacts.map((contact, index) => (\r\n              <tr key={index}>\r\n                <td>{contact.engname}</td>\r\n                <td>{contact.seatno}</td>\r\n                <td>{contact.phone_no}</td>\r\n              </tr> */\r\n/* <Fragment>\r\n                {editContactId === contact.id ? (\r\n                  <EditableRow\r\n                    editFormData={editFormData}\r\n                    handleEditFormChange={handleEditFormChange}\r\n                    handleCancelClick={handleCancelClick}\r\n                  />\r\n                ) : (\r\n                  <ReadOnlyRow\r\n                    contact={contact}\r\n                    handleEditClick={handleEditClick}\r\n                    handleDeleteClick={handleDeleteClick}\r\n                  />\r\n                )}\r\n              </Fragment> */\r\n/* ))}\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n\r\n      <h2>Add a Contact</h2>\r\n      {showAddForm && (\r\n        <form onSubmit={handleAddFormSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"engname\"\r\n            value={engname}\r\n            required=\"required\"\r\n            placeholder=\"Enter a name...\"\r\n            onChange={(e) => setEngname(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"seatno\"\r\n            value={seatno}\r\n            required=\"required\"\r\n            placeholder=\"Enter roll no...\"\r\n            onChange={(e) => setSeatNo(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone_no\"\r\n            value={phone_no}\r\n            required=\"required\"\r\n            placeholder=\"Enter a phone number...\"\r\n            onChange={(e) => setPhoneno(e.target.value)}\r\n          />\r\n\r\n          <button type=\"submit\">Add</button>\r\n          <button type=\"button\" onClick={handleCancelAddForm}>\r\n            Cancle\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div> */\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}